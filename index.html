<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Rock, Paper, Scissors</title>
    </head>
    <body>
        <script>
            // A function that randomly chooses a play from "rock", "paper",
            // "scissors" and returns the play
            function computerPlay() {
                // Setting up a random selector in range 1, 3
                let min = Math.ceil(1);
                let max = Math.floor(4);
                let play = Math.floor(Math.random() * (max-min) + min );

                // Use the random number to pick the computer's play 
                // and return it
                if ( play == 1 ) {
                    return ("rock");
                } else if ( play == 2 ) {
                    return ("paper");
                } else {
                    return ( "scissors");
                }
            }
            // Declaring counters
            let playerWins = 0;
            let computerWins = 0;

            // A function that "plays the game". Check user input and
            // compare it to the selecion made in the computerPlay function
            function playRound(playerSelection, computerSelection) {
                // Convert player selectionto lowerCase so RoCk = rock
                let playerLower = playerSelection.toLowerCase();

                // Main game logic, compare the plays and return result
                if ( playerLower == computerSelection ) {
                    return ( "The game is a draw!" );
                } else if (playerLower == "rock" && computerSelection == "scissors"
                    || playerLower == "paper" && computerSelection == "rock"
                    || playerLower == "scissors" && computerSelection == "paper") {
                    playerWins += 1;
                    return (playerLower + " beats " + computerSelection + " you win!");
                } else {
                    computerWins += 1;
                    return (computerSelection + " beats " + playerSelection + " you lose!");
                }
            }
            
            // A function that runs the game a specific number of times.
            // The game will run for as many times as defined by the "rounds" arg
            function game(rounds) {
                // Setting up the game loop
                for (let i = 0; i < rounds; i++) {
                    
                    // Getting player and computer selections
                    let computerSelection = computerPlay();
                    let playerSelection = prompt("rock, paper scissors?");

                    // Run the game with chosen vars
                    alert(playRound(playerSelection, computerSelection));
                }
                alert("PLayerwins: " + playerWins + ", computerwins: " + computerWins);
            }

            game(5);

            // // Declare game variables for testing purposes
            // let playerSelection = 'rock';
            // let computerSelection = computerPlay();


            // // Play one round (testrun)
            // console.log(playRound(playerSelection, computerSelection));

        </script>
    </body>
</html>